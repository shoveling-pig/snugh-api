openapi: 3.0.0
info:
  title: SNUGH_API
  version: '1.0'
  description: SNUGH Website 개발을 위한 API Docs입니다.
servers:
  - url: 'http://localhost:3000'
paths:
  /user:
    post:
      summary: Create new user
      operationId: post-user
      responses:
        '201':
          description: User Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  email:
                    type: string
                    minLength: 1
                  full_name:
                    type: string
                    minLength: 1
                  year:
                    type: integer
                  status:
                    type: integer
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
                  token:
                    type: string
                    minLength: 1
                required:
                  - id
                  - email
                  - full_name
                  - year
                  - status
                  - major
                  - token
              examples: {}
        '400':
          description: |-
            1. 모든 Required Body 항목을 채우지 않았을 때
            2. 이미 있는 유저일 때(email로 확인)
            3. Body 항목 중 데이터 type이 다른 경우
            4. Body 중 email 양식 오류(가운데에 '@')
            5. Body 중 password 양식 오류(6글자 이상)
            6. Body 중 year 양식 오류(4자리 숫자)
            7. Body 중 full_name 양식 오류(2~30글자)
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                모든 Required Body 항목을 채우지 않았을 때:
                  value:
                    error: (없는 항목들) missing
                이미 있는 유저일 때(email로 확인):
                  value:
                    error: existing user
                Body 항목 중 데이터 type이 다른 경우:
                  value:
                    error: (항목들) wrong data type
                Body 중 email 양식 오류(가운데에 '@'):
                  value:
                    error: email form wrong
                Body 중 password 양식 오류(6글자 이상):
                  value:
                    error: password too short
                Body 중 year 양식 오류(4자리 숫자):
                  value:
                    error: year too large or too small
                Body 중 full_name 양식 오류(2~30글자):
                  value:
                    error: full_name too short or too long
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
                year:
                  type: integer
                full_name:
                  type: string
                major_id:
                  type: array
                  items:
                    type: integer
                status:
                  type: integer
              required:
                - email
                - password
                - year
                - full_name
                - major_id
                - status
            examples: {}
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                username:
                  type: string
                  minLength: 1
                password:
                  type: string
                  minLength: 1
                first_name:
                  type: string
                  minLength: 1
                last_name:
                  type: string
                  minLength: 1
                status:
                  type: number
                student_id:
                  type: string
                  minLength: 1
                major_id:
                  type: array
                  items:
                    type: integer
              required:
                - username
                - password
                - first_name
                - last_name
                - status
                - student_id
                - major_id
        description: Post the necessary fields for the API to create a new user.
      description: Create a new user.
      parameters: []
  /user/me/:
    put:
      summary: Update my info
      operationId: put-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  email:
                    type: string
                  full_name:
                    type: string
                  year:
                    type: string
                  status:
                    type: integer
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
        '401':
          description: Unauthorized
        '403':
          description: pk!='me'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: Can't see other user's information
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                year:
                  type: string
                full_name:
                  type: string
                status:
                  type: integer
    parameters:
      - schema:
          type: string
        name: ''
        in: path
        required: true
    get:
      summary: Get my info
      operationId: get-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  email:
                    type: string
                  full_name:
                    type: string
                  year:
                    type: string
                  status:
                    type: integer
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
        '401':
          description: Unauthorized
        '403':
          description: pk!='me'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: Can't see other user's information
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
      description: ''
    delete:
      summary: Delete my info
      operationId: delete-user
      responses:
        '200':
          description: OK
        '401':
          description: Unauthorized
        '403':
          description: pk!='me'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: Can't see other user's information
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
  /requirement/:
    get:
      summary: Get requirements
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  majors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - major_name
                        - major_type
                      properties:
                        major_name:
                          type: string
                          minLength: 1
                        major_type:
                          type: string
                          minLength: 1
                        requirements:
                          type: array
                          uniqueItems: true
                          minItems: 1
                          items:
                            required:
                              - id
                              - description
                              - is_fulfilled
                              - is_credit_requirement
                              - requirement_type
                              - requirement_type_detail
                              - requirement_type_detail_detail
                              - required_credit
                              - earned_credit
                            properties:
                              id:
                                type: number
                              description:
                                type: string
                              is_fulfilled:
                                type: boolean
                              is_credit_requirement:
                                type: boolean
                              requirement_type:
                                type: string
                                minLength: 1
                              requirement_type_detail:
                                type: string
                                minLength: 1
                              requirement_type_detail_detail:
                                type: string
                                minLength: 1
                              required_credit:
                                type: number
                              earned_credit:
                                type: number
                required:
                  - majors
              examples:
                example-1:
                  value:
                    majors:
                      - major_name: 경영학과
                        major_type: major
                        requirements:
                          - id: 1
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: all
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 130
                            earned_credit: 69
                          - id: 2
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: major_requirement
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 30
                            earned_credit: 9
                          - id: 3
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: major_elective
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 15
                            earned_credit: 6
                          - id: 4
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: general
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 15
                            earned_credit: 9
                      - major_name: 컴퓨터공학과
                        major_type: double_major
                        requirements:
                          - id: 5
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: all
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 130
                            earned_credit: 69
                          - id: 6
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: major_requirement
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 30
                            earned_credit: 9
                          - id: 7
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: major_elective
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 15
                            earned_credit: 6
                          - id: 8
                            description: ''
                            is_fulfilled: false
                            is_credit_requirement: true
                            requirement_type: general
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 15
                            earned_credit: 9
            application/xml:
              schema:
                type: object
                properties: {}
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  error:
                    type: string
                    minLength: 1
                required:
                  - error
              examples:
                example-1:
                  value:
                    error: plan_id missing
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties: {}
      operationId: get-requirement
      description: 'plan_id에 해당하는 계획의 졸업요건들을 전공별로 리스트 형태로 반환합니다. search_type 값이 all이면 나와 관계된 모든 졸업요건을, credit이면 학점 관련 졸업요건만, etc이면 기타 졸업요건만 반환합니다.'
      parameters:
        - schema:
            type: integer
          in: query
          name: plan_id
          required: true
          description: 졸업요건을 조회하고 싶은 Plan의 ID
        - schema:
            type: string
            enum:
              - all
              - credit
              - etc
          in: query
          name: search_type
          required: true
          description: 조회하고 싶은 졸업요건의 종류
    put:
      summary: Update requirements
      operationId: put-requirement
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  majors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - major_name
                        - major_type
                      properties:
                        major_name:
                          type: string
                          minLength: 1
                        major_type:
                          type: string
                          minLength: 1
                        requirements:
                          type: array
                          uniqueItems: true
                          minItems: 1
                          items:
                            required:
                              - id
                              - description
                              - is_fulfilled
                              - is_credit_requirement
                              - requirement_type
                              - requirement_type_detail
                              - requirement_type_detail_detail
                              - required_credit
                              - earned_credit
                            properties:
                              id:
                                type: number
                              description:
                                type: string
                              is_fulfilled:
                                type: boolean
                              is_credit_requirement:
                                type: boolean
                              requirement_type:
                                type: string
                                minLength: 1
                              requirement_type_detail:
                                type: string
                                minLength: 1
                              requirement_type_detail_detail:
                                type: string
                                minLength: 1
                              required_credit:
                                type: number
                              earned_credit:
                                type: number
                required:
                  - majors
              examples:
                example-1:
                  value:
                    majors:
                      - major_name: 경영학과
                        major_type: major
                        requirements:
                          - id: 1
                            description: 경영 기타 졸업요건 1번입니다.
                            is_fulfilled: true
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 2
                            description: 경영 기타 졸업요건 2번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 3
                            description: 경영 기타 졸업요건 3번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 4
                            description: 경영 기타 졸업요건 4번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                      - major_name: 컴퓨터공학과
                        major_type: double_major
                        requirements:
                          - id: 5
                            description: 컴공 기타 졸업요건 1번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 6
                            description: 컴공 기타 졸업요건 2번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 7
                            description: 컴공 기타 졸업요건 3번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
                          - id: 8
                            description: 컴공 기타 졸업요건 4번입니다.
                            is_fulfilled: false
                            is_credit_requirement: false
                            requirement_type: none
                            requirement_type_detail: none
                            requirement_type_detail_detail: none
                            required_credit: 0
                            earned_credit: 0
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  error:
                    type: string
                    minLength: 1
                required:
                  - error
              examples:
                example-1:
                  value:
                    error: plan_id missing
        '401':
          description: Unauthorized
      description: plan_id에 해당하는 계획에서 기타 졸업요건의 충족 여부를 User가 직접 체크하거나 체크 해제할 때 사용합니다. body의 is_fulfilled 값에 따라 체크 여부가 변경됩니다. requirement_id에 해당하는 졸업요건이 기타 졸업요건이 아닌 학점 관련 졸업요건일 시에는 에러 코드가 반환됩니다.
      requestBody:
        content:
          application/json:
            schema:
              type: array
              description: ''
              minItems: 1
              uniqueItems: true
              items:
                type: object
                properties:
                  plan_id:
                    type: number
                  requirement_id:
                    type: number
                  is_fulfilled:
                    type: boolean
                required:
                  - plan_id
                  - requirement_id
                  - is_fulfilled
            examples:
              example-1:
                value:
                  - plan_id: 1
                    requirement_id: 1
                    is_fulfilled: true
                  - plan_id: 2
                    requirement_id: 2
                    is_fulfilled: false
          application/xml:
            schema:
              type: object
              properties: {}
          multipart/form-data:
            schema:
              description: ''
              type: object
              properties:
                idiot:
                  type: array
                  items:
                    required: []
                    properties: {}
              required:
                - idiot
          text/html:
            schema:
              type: object
              properties: {}
        description: ''
    parameters: []
  /requirement/progress/:
    get:
      summary: Get requirement progress
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  majors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - major_name
                        - major_type
                      properties:
                        major_name:
                          type: string
                          minLength: 1
                        major_type:
                          type: string
                          minLength: 1
                        all:
                          type: object
                          properties:
                            required_credit:
                              type: number
                            earned_credit:
                              type: number
                            progress:
                              type: number
                          required:
                            - required_credit
                            - earned_credit
                            - progress
                        major_requirement:
                          type: object
                          properties:
                            required_credit:
                              type: number
                            earned_credit:
                              type: number
                            progress:
                              type: number
                          required:
                            - required_credit
                            - earned_credit
                            - progress
                        major_elective:
                          type: object
                          properties:
                            required_credit:
                              type: number
                            earned_credit:
                              type: number
                            progress:
                              type: number
                          required:
                            - required_credit
                            - earned_credit
                            - progress
                        general:
                          type: object
                          properties:
                            required_credit:
                              type: number
                            earned_credit:
                              type: number
                            progress:
                              type: number
                          required:
                            - required_credit
                            - earned_credit
                            - progress
                required:
                  - majors
              examples:
                example-1:
                  value:
                    majors:
                      - major_name: 경영학과
                        major_type: major
                        all:
                          required_credit: 130
                          earned_credit: 69
                          progress: 0.53
                        major_requirement:
                          required_credit: 30
                          earned_credit: 9
                          progress: 0.3
                        major_elective:
                          required_credit: 15
                          earned_credit: 6
                          progress: 0.4
                        general:
                          required_credit: 15
                          earned_credit: 9
                          progress: 0.6
                      - major_name: 경영학과
                        major_type: double_major
                        all:
                          required_credit: 130
                          earned_credit: 69
                          progress: 0.53
                        major_requirement:
                          required_credit: 30
                          earned_credit: 9
                          progress: 0.3
                        major_elective:
                          required_credit: 15
                          earned_credit: 6
                          progress: 0.4
                        general:
                          required_credit: 15
                          earned_credit: 9
                          progress: 0.6
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  error:
                    type: string
                    minLength: 1
                required:
                  - error
              examples:
                example-1:
                  value:
                    error: plan_id missing
        '401':
          description: Unauthorized
      operationId: get-requirement-progress
      description: |-
        기준학점 대비 이수학점 비율을 나타내는 원형 프로그레스바 표시에 사용합니다. 전체/전필/전선/교양별 각각

        1. 기준학점 양
        2. 이수학점 양
        3. 1과 2의 비율

        을 모두 반환합니다.
      parameters:
        - schema:
            type: integer
          in: query
          name: plan_id
          description: 진행사항을 조회하고 싶은 Plan의 ID
          required: true
    parameters: []
  /user/login/:
    put:
      summary: Login
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  email:
                    type: string
                  full_name:
                    type: string
                  year:
                    type: integer
                  status:
                    type: integer
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
                  token:
                    type: string
              examples:
                example-1:
                  value:
                    id: 0
                    username: string
                    full_name: string
                    first_name: string
                    last_name: string
                    student_id: string
                    status: 0
                    major:
                      id: 0
                      name: string
                      type: 0
                    token: string
        '400':
          description: |-
            Bad Request
            1. body에 username이 없을 때
            2. body에 password가 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: username missing
                example-2:
                  value:
                    error: password missing
        '403':
          description: 'username에 해당하는 유저가 없거나 username은 맞지만, 비밀번호가 틀렸을 때'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: Wrong username or wrong password
      operationId: put-user-login
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
              required:
                - email
                - password
            examples:
              example-1:
                value:
                  username: string
                  password: string
    parameters: []
  /user/logout/:
    get:
      summary: Logout
      tags: []
      responses:
        '200':
          description: OK
      operationId: get-user-logout
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
  /user/major/:
    delete:
      summary: Delete usermajor
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
        '400':
          description: |-
            1. parameter에 major_id가 없을 때
            2. major_id에 해당하는 major을 현재 유저가 듣고 있지 않을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: major_id missing
                example-2:
                  value:
                    error: wrong major_id
        '401':
          description: No Token
        '404':
          description: parameter에 major_id가 있지만 해당하는 Major을 찾을 수 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: No major with the given major_id
      operationId: delete-user-major
      description: ''
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                major_id:
                  type: integer
    post:
      summary: Post usermajor
      tags: []
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
        '401':
          description: 'Token이 주어지지 않았을 때 '
        '404':
          description: '1. body의 major_name과 major_type을 가진 major이 없을 때 '
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: No major with the given major_name and major_type
      operationId: post-user-major
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
          description: Token 인증
      description: '현재 세션의 유저에 전공을 추가합니다. '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                major_name:
                  type: string
                major_type:
                  type: integer
              required:
                - major_name
                - major_type
    parameters: []
  /plan/major/:
    post:
      summary: planmajor post
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  plans:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        major:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                              name:
                                type: string
                              type:
                                type: integer
        '400':
          description: |-
            1. query_params에 major_id가 없을 때
            2. query_params에 plan_id가 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                'example-1 ':
                  value:
                    error: major_id missing
                example-2:
                  value:
                    error: plan_id missing
        '401':
          description: No token
        '404':
          description: ' body에 major_id와 plan_id가 있지만 해당하는 Major을 찾을 수 없을 때'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: No major matching the given major_id and plan_id
      operationId: post-plan-major
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
        - schema:
            type: string
          in: query
          name: major_id
          required: true
          description: 추가하려는 major의 id
        - schema:
            type: string
          in: query
          name: plan_id
          description: major을 추가하려는 plan의 id
          required: true
    delete:
      summary: planmajor delete
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  plans:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        major:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                              name:
                                type: string
                              type:
                                type: integer
        '400':
          description: |-
            1. body에 major_id가 없을 때
            2. body에 plan_id가 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: major_id missing
                example-2:
                  value:
                    error: plan_id missing
        '401':
          description: Unauthorized
        '404':
          description: body에 major_id와 plan_id가 있지만 해당하는 Major을 찾을 수 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: No major matching the given major_id and plan_id
      operationId: delete-plan-major
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
        - schema:
            type: string
          in: query
          name: major_id
          required: true
          description: 삭제하려는 major의 id
        - schema:
            type: string
          in: query
          name: plan_id
          required: true
          description: major을 삭제하려는 plan의 id
    get:
      summary: planmajor get
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  major:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        type:
                          type: integer
              examples:
                example-1:
                  value:
                    id: 0
                    major:
                      - id: 0
                        name: string
                        type: 0
        '400':
          description: parameter의 plan_id에 해당하는 plan이 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                example-1:
                  value:
                    error: wrong plan_id
        '401':
          description: Unauthorized
      operationId: get-plan-major
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          required: true
        - schema:
            type: string
          in: query
          name: plan_id
          description: 조회하려는 plan
          required: true
  /plan:
    get:
      summary: 'Get all plans '
      tags: []
      operationId: get-plan
      description: 유저의 메인 보드의 모든 계획을 조회합니다.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                description: ''
                uniqueItems: true
                minItems: 0
                items:
                  type: object
                  properties:
                    id:
                      type: number
                    plan_name:
                      type: string
                      minLength: 1
                    recent_scroll:
                      type: number
                    semesters:
                      type: array
                      uniqueItems: true
                      minItems: 0
                      items:
                        type: object
                        properties:
                          id:
                            type: number
                          plan:
                            type: number
                          year:
                            type: number
                          semester_type:
                            type: number
                          is_complete:
                            type: boolean
                          major_requirement_credits:
                            type: number
                          major_elective_credits:
                            type: number
                          general_credits:
                            type: number
                          lectures:
                            type: array
                            uniqueItems: true
                            minItems: 0
                            items:
                              type: object
                              properties:
                                lecture_id:
                                  type: number
                                semesterlecture_id:
                                  type: number
                                lecture_name:
                                  type: string
                                  minLength: 1
                                credit:
                                  type: number
                                is_open:
                                  type: boolean
                                open_semester:
                                  type: number
                              required:
                                - lecture_id
                                - semesterlecture_id
                                - lecture_name
                                - credit
                                - is_open
                                - open_semester
                        required:
                          - id
                          - plan
                          - year
                          - semester_type
                          - is_complete
                          - major_requirement_credits
                          - major_elective_credits
                          - general_credits
                  required:
                    - id
                    - plan_name
                    - recent_scroll
                    - semesters
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    post:
      summary: 'Create a plan '
      tags: []
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  user:
                    type: number
                  plan_name:
                    type: string
                    minLength: 1
                  recent_scroll:
                    type: number
                  semesters:
                    type: array
                    uniqueItems: true
                    minItems: 0
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        plan:
                          type: number
                        year:
                          type: number
                        semester_type:
                          type: number
                        is_complete:
                          type: boolean
                        major_requirement_credits:
                          type: number
                        major_elective_credits:
                          type: number
                        general_credits:
                          type: number
                        lectures:
                          type: array
                          uniqueItems: true
                          minItems: 0
                          items:
                            type: object
                            properties:
                              lecture_id:
                                type: number
                              semesterlecture_id:
                                type: number
                              lecture_name:
                                type: string
                                minLength: 1
                              credit:
                                type: number
                              is_open:
                                type: boolean
                              open_semester:
                                type: number
                            required:
                              - lecture_id
                              - semesterlecture_id
                              - lecture_name
                              - credit
                              - is_open
                              - open_semester
                      required:
                        - id
                        - plan
                        - year
                        - semester_type
                        - is_complete
                        - major_requirement_credits
                        - major_elective_credits
                        - general_credits
                required:
                  - id
                  - user
                  - plan_name
                  - recent_scroll
                  - semesters
              examples:
                example-1:
                  value:
                    id: 0
                    plan_name: string
                    recent_scroll: 0
                    semesters:
                      - id: 0
                        plan: 0
                        year: 0
                        semester_type: 0
                        is_complete: true
                        major_requirement_credits: 0
                        major_elective_credits: 0
                        general_credits: 0
                        lectures:
                          - lecture_id: 0
                            semesterlecture_id: 0
                            lecture_name: string
                            credit: 0
                            is_open: true
                            open_semester: 0
                    user: 0
      operationId: post-plan
      description: 유저의 메인 보드에 계획을 추가합니다. 한 번에 하나의 계획씩 추가됩니다.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                user:
                  type: number
                plan_name:
                  type: string
                  minLength: 1
              required:
                - user
            examples: {}
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                user_id:
                  type: number
                plan_name:
                  type: string
                  minLength: 1
                recent_scroll:
                  type: number
              required:
                - user_id
      parameters:
        - schema:
            type: string
          in: query
          name: major_id
          required: true
  '/plan/{plan_id}':
    parameters:
      - schema:
          type: string
        name: plan_id
        in: path
        required: true
    put:
      summary: Modify a plan
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  plan_name:
                    type: string
                    minLength: 1
                  recent_scroll:
                    type: number
                  semesters:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - id
                        - plan
                        - year
                        - semester_type
                        - is_complete
                        - major_requirement_credits
                        - major_elective_credits
                        - general_credits
                      properties:
                        id:
                          type: number
                        plan:
                          type: number
                        year:
                          type: number
                        semester_type:
                          type: number
                        is_complete:
                          type: boolean
                        major_requirement_credits:
                          type: number
                        major_elective_credits:
                          type: number
                        general_credits:
                          type: number
                        lectures:
                          type: array
                          uniqueItems: true
                          minItems: 1
                          items:
                            required:
                              - lecture_id
                              - semesterlecture_id
                              - lecture_name
                              - credit
                              - is_open
                              - open_semester
                            properties:
                              lecture_id:
                                type: number
                              semesterlecture_id:
                                type: number
                              lecture_name:
                                type: string
                                minLength: 1
                              credit:
                                type: number
                              is_open:
                                type: boolean
                              open_semester:
                                type: number
                required:
                  - id
                  - plan_name
                  - recent_scroll
                  - semesters
              examples:
                example-1:
                  value:
                    id: 0
                    plan_name: string
                    recent_scroll: 0
                    semesters:
                      - id: 0
                        plan: 0
                        year: 0
                        semester_type: 0
                        is_complete: true
                        major_requirement_credits: 0
                        major_elective_credits: 0
                        general_credits: 0
                        lectures:
                          - lecture_id: 0
                            semesterlecture_id: 0
                            lecture_name: string
                            credit: 0
                            is_open: true
                            open_semester: 0
      operationId: put-plan-plan_id
      description: 계획을 수정합니다. 계획의 이름 또는 가로 좌표를 수정할 수 있습니다.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                plan_name:
                  type: string
                  minLength: 1
                recent_scroll:
                  type: number
              required:
                - plan_name
                - recent_scroll
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    delete:
      summary: Delete a plan
      tags: []
      responses:
        '200':
          description: OK
      operationId: delete-plan-plan_id
      description: 유저의 메인 보드에서 계획을 삭제합니다.
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
    get:
      summary: 'Get a plan '
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  user:
                    type: number
                  major:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                          minLength: 1
                        type:
                          type: number
                      required:
                        - id
                        - name
                        - type
                  plan_name:
                    type: string
                    minLength: 1
                  recent_scroll:
                    type: number
                  semesters:
                    type: array
                    uniqueItems: true
                    minItems: 0
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        plan:
                          type: number
                        year:
                          type: number
                        semester_type:
                          type: number
                        is_complete:
                          type: boolean
                        major_requirement_credits:
                          type: number
                        major_elective_credits:
                          type: number
                        general_credits:
                          type: number
                        lectures:
                          type: array
                          uniqueItems: true
                          minItems: 0
                          items:
                            type: object
                            properties:
                              lecture_id:
                                type: number
                              semesterlecture_id:
                                type: number
                              lecture_name:
                                type: string
                                minLength: 1
                              credit:
                                type: number
                              is_open:
                                type: boolean
                              open_semester:
                                type: number
                            required:
                              - lecture_id
                              - semesterlecture_id
                              - lecture_name
                              - credit
                              - is_open
                              - open_semester
                      required:
                        - id
                        - plan
                        - year
                        - semester_type
                        - is_complete
                        - major_requirement_credits
                        - major_elective_credits
                        - general_credits
                required:
                  - id
                  - user
                  - major
                  - plan_name
                  - recent_scroll
                  - semesters
              examples:
                example-1:
                  value:
                    id: 0
                    plan_name: string
                    recent_scroll: 0
                    semesters:
                      - id: 0
                        plan: 0
                        year: 0
                        semester_type: 0
                        is_complete: true
                        major_requirement_credits: 0
                        major_elective_credits: 0
                        general_credits: 0
                        lectures:
                          - lecture_id: 0
                            semesterlecture_id: 0
                            lecture_name: string
                            credit: 0
                            is_open: true
                            open_semester: 0
      operationId: get-plan-plan_id
      description: '유저의 메인 보드의 계획을 조회합니다.  '
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
  /semester:
    post:
      summary: Create a semester
      tags: []
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  year:
                    type: number
                  is_complete:
                    type: boolean
                  semester_type:
                    type: number
                  plan:
                    type: number
                required:
                  - id
                  - year
                  - is_complete
                  - semester_type
                  - plan
      operationId: post-semester
      description: '유저의 현재 계획에 학기를 추가합니다. 한 번에 하나의 학기씩 추가됩니다. '
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                plan:
                  type: number
                year:
                  type: number
                semester_type:
                  type: number
                is_complete:
                  type: boolean
              required:
                - plan
                - year
                - semester_type
                - is_complete
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
  '/semester/{semester_id}':
    parameters:
      - schema:
          type: string
        name: semester_id
        in: path
        required: true
    put:
      summary: Modify a semester
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  year:
                    type: number
                  is_complete:
                    type: boolean
                  semester_type:
                    type: number
                  plan:
                    type: number
                required:
                  - id
                  - year
                  - is_complete
                  - semester_type
                  - plan
      operationId: put-semester-semester_id
      description: '유저 계획의 해당 학기를 수정합니다. '
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                year:
                  type: number
                semester_type:
                  type: number
                is_complete:
                  type: boolean
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    delete:
      summary: Delete a semester
      tags: []
      responses:
        '200':
          description: OK
      operationId: delete-semester-semester_id
      description: '유저 계획의 학기를 삭제합니다.  '
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    get:
      summary: Get a semester
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  plan:
                    type: number
                  year:
                    type: number
                  semester_type:
                    type: number
                  is_complete:
                    type: boolean
                  major_requirement_credits:
                    type: number
                  major_elective_credits:
                    type: number
                  general_credits:
                    type: number
                  lectures:
                    type: array
                    uniqueItems: true
                    minItems: 0
                    items:
                      type: object
                      properties:
                        lecture_id:
                          type: number
                        semesterlecture_id:
                          type: number
                        lecture_name:
                          type: string
                          minLength: 1
                        credit:
                          type: number
                        is_open:
                          type: boolean
                        open_semester:
                          type: number
                      required:
                        - lecture_id
                        - semesterlecture_id
                        - lecture_name
                        - credit
                        - is_open
                        - open_semester
                required:
                  - id
                  - plan
                  - year
                  - semester_type
                  - is_complete
                  - major_requirement_credits
                  - major_elective_credits
                  - general_credits
                  - lectures
      operationId: get-semester-semester_id
      description: '유저의 현재 계획의 학기를 조회해 해당 학기의 수업들을 나열합니다. '
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
  /lecture:
    post:
      summary: Add lectures
      tags: []
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  plan:
                    type: number
                  semester:
                    type: number
                  lectures:
                    type: array
                    uniqueItems: true
                    minItems: 0
                    items:
                      type: object
                      properties:
                        lecture_id:
                          type: number
                        semester_lecture_id:
                          type: number
                        lecture_name:
                          type: string
                          minLength: 1
                        credit:
                          type: number
                        is_open:
                          type: boolean
                        open_semester:
                          type: number
                      required:
                        - lecture_id
                        - semester_lecture_id
                        - lecture_name
                        - credit
                        - is_open
                        - open_semester
                required:
                  - plan
                  - semester
                  - lectures
      operationId: post-lecture
      description: '유저의 학기별 테이블에 강의를 추가합니다. 한번에 복수의 수업 추가가 가능합니다. '
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                semester_id:
                  type: number
                lecture_id:
                  type: array
                  items:
                    type: integer
                recent_sequence:
                  type: array
                  items:
                    type: integer
              required:
                - semester_id
                - lecture_id
                - recent_sequence
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    get:
      summary: Search lectures
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  lectures:
                    type: array
                    uniqueItems: true
                    minItems: 0
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        lecture_name:
                          type: string
                          minLength: 1
                        credit:
                          type: number
                        is_open:
                          type: boolean
                        open_semester:
                          type: number
                      required:
                        - id
                        - lecture_name
                        - credit
                        - is_open
                        - open_semester
                required:
                  - lectures
      operationId: get-lecture
      description: '강의를 검색합니다. 1) 전필/전선/교양 별로 강의를 불러올 수 있고, 2) 강의 이름에 포함된 키워드를 통해 검색이 가능합니다.'
      parameters:
        - schema:
            type: integer
          in: query
          name: lecture_type
          description: '전공 필수, 전공 선택, 교양 수업을 구분합니다'
        - schema:
            type: string
          in: query
          name: search_keyword
          description: 이름 안에 검색 키워드가 들어있는 강의들을 검색합니다.
  '/lecture/{lecture_id}':
    parameters:
      - schema:
          type: string
        name: lecture_id
        in: path
        required: true
    delete:
      summary: Delete a lecture
      tags: []
      responses:
        '200':
          description: OK
      operationId: delete-lecture-lecture_id
      description: '유저의 현재 학기별 테이블에서 강의를 삭제합니다.  '
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
    put:
      summary: Modify a lecture
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  id:
                    type: number
                  lecture_type:
                    type: number
                  lecture_type_detail:
                    type: number
                  lecture_type_detail_detail:
                    type: number
                  recent_sequence:
                    type: number
                  semester:
                    type: number
                  lecture:
                    type: number
                required:
                  - id
                  - lecture_type
                  - lecture_type_detail
                  - lecture_type_detail_detail
                  - recent_sequence
                  - semester
                  - lecture
      operationId: put-lecture-lecture_id
      description: 유저의 학기별 테이블에 포함된 강의를 수정합니다. year와 semester_type를 수정해 강의를 다른 학기별 테이블로 이동시킬 수 있습니다. url에 들어가는 id는 수정되는 학기별 강의인 SemesterLecture의 id입니다.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                semester:
                  type: number
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                semester:
                  type: number
      parameters:
        - schema:
            type: string
          in: header
          name: Authorization
          description: Token Authentication
          required: true
  /major/:
    get:
      summary: 모든 전공 조회
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  major:
                    type: array
                    items:
                      type: string
              examples:
                example-1:
                  value:
                    major:
                      - 종로구
                      - 중구
                      - 용산구
                      - 성동구
                      - 광진구
                      - 동대문구
                      - 중랑구
                      - 성북구
                      - 강북구
                      - 도봉구
                      - 노원구
                      - 은평구
                      - 서대문구
                      - 마포구
                      - 양천구
                      - 강서구
                      - 구로구
                      - 금천구
                      - 영등포구
                      - 동작구
                      - 관악구
                      - 서초구
                      - 강남구
                      - 송파구
                      - 강동구
                      - ammonite science
        '403':
          description: Token 인증 실패
      operationId: get-major
      parameters:
        - schema:
            type: string
          in: query
          name: name
          description: 전공 검색어
      description: |-
        모든 전공 조회 기능. 
        검색어를 param에 넣어서 검색도 가능
components:
  schemas: {}
